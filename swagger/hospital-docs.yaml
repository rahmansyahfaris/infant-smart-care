paths:
  /hospital:
    get:
      summary: Lists all hospitals
      tags:
        - [Hospital]
      responses:
        '200':
          description: Successfully listed
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/hospital'
        '500':
          description: Internal server error.
          content:
            application/json:
              example:
                message: <some error message>
    post:
      summary: Create a new hospital
      tags:
        - [Hospital]
      requestBody:
        description: Hospital data to create
        required: true
        content:
          application/json:
            schema:
              type: object
              example:
                hospital_id: hospital0000001
                name: Rumah Sakit Merpati
                address: Jln. Merpati No. 12
                date_created: 2023-01-12T12:20:00.000Z
      responses:
        '201':
          description: Successfully created.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/hospital'
        '400':
          description: Bad request. Creation failed.
          content:
            application/json:
              example:
                message: <some error message>

  /hospital/{id}:
    get:
      summary: Get a hospital by id
      tags:
        - [Hospital]
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
          description: The hospital id
      responses:
        '200':
          description: Successfully fetched
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/hospital'
        '404':
          description: There is no hospital with that id
          content:
            application/json:
              example:
                message: Cannot find document
    patch:
      summary: Update a hospital by id
      tags:
        - [Hospital]
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
          description: The id of the hospital to update
      requestBody:
        description: Partial data update for the hospital
        required: true
        content:
          application/json:
            schema:
              type: object
              example:
                hospital_id: hospital0000010
                name: Rumah Sakit Merpati 2
                address: Jln. Merpati No. 13
                date_created: 2023-01-12T12:30:00.000Z
      responses:
        '200':
          description: Successfully updated
          content:
            application/json:
              example:
                hospital_id: hospital0000010
                type: Hospital
                name: Rumah Sakit Merpati 2
                address: Jln. Merpati No. 13
                date_created: 2023-01-12T12:30:00.000Z
        '400':
          description: Bad request. Update failed.
          content:
            application/json:
              example:
                message: <some error message>
        '404':
          description: No hospital to update with that id
          content:
            application/json:
              example:
                message: Cannot find document
    delete:
      summary: Delete a hospital by id
      tags:
        - [Hospital]
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
          description: The id of the hospital to delete
      responses:
        '200':
          description: Successfully deleted
          content:
            application/json:
              example:
                message: Document successfully deleted
        '404':
          description: No hospital to delete with that id
          content:
            application/json:
              example:
                message: Cannot find document
        '500':
          description: Internal server error. Deletion failed.
          content:
            application/json:
              example:
                message: <some error message>


components:
  schemas:
    hospital:
      type: object
      required:
        - hospital_id
        - type
      properties:
        hospital_id:
          type: string
          description: |
            The id of the hospital. You can assign your custom id, or you can also let the API auto-generate and auto-increment the id by not assigning an id in the request.
        type:
          type: string
          description: |
            The type of data, sets to "Hospital" by default. Cannot be changed. Not to be included in the request.
        name:
          type: string
          description: |
            The hospital name. Can be empty or excluded in the request.
        address:
          type: string
          description: |
            The address of the hospital. Can be empty or excluded in the request.
        date_created:
          type: string
          format: date
          description: |
            The date of when this document is created. Sets to the current date and time by default if excluded in the request but can also be included to set custom date and time.
      example:
        hospital_id: hospital0000001
        type: Hospital
        name: Rumah Sakit Merpati
        address: Jln. Merpati No. 12
        date_created: 2023-01-12T12:20:00.000Z